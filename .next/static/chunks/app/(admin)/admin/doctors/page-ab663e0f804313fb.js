(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{17:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:s,strokeWidth:n?24*Number(i)/Number(a):i,className:l("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let s=(0,r.forwardRef)((s,c)=>{let{className:n,...o}=s;return(0,r.createElement)(i,{ref:c,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...o})});return s.displayName=a(e),s}},2509:(e,t,s)=>{Promise.resolve().then(s.bind(s,3792))},3664:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},3792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5155),a=s(2115),l=s(2619),c=s.n(l),i=s(9758),n=s(6191),o=s(6651),d=s(3664),x=s(9141),m=s(17),h=s(2663);function u(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[u,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),v=async()=>{try{l(!0);let e={};u&&(e.search=u),f&&(e.status=f);let s=await i.Z.getDoctors(e);t(s.data)}catch(e){h.Ay.error("Failed to fetch doctors")}finally{l(!1)}};return(0,a.useEffect)(()=>{let e=setTimeout(()=>{v()},500);return()=>clearTimeout(e)},[u,f]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Doctors Management"}),(0,r.jsxs)("p",{className:"text-sm text-slate-500",children:["Manage ",e.length," registered doctors."]})]}),(0,r.jsxs)(c(),{href:"/admin/doctors/create",className:"inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Register New Doctor"]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by name, email or phone...",value:u,onChange:e=>p(e.target.value),className:"h-10 w-full rounded-md border border-slate-200 bg-transparent pl-9 pr-4 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3 text-sm outline-none focus:border-blue-500",value:f,onChange:e=>g(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"All Status"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"})]})})]}),(0,r.jsx)("div",{className:"rounded-lg border bg-white shadow-sm overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,r.jsx)("thead",{className:"bg-slate-50 text-slate-500 border-b",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 font-medium",children:"Doctor Profile"}),(0,r.jsx)("th",{className:"px-6 py-4 font-medium",children:"Contact Details"}),(0,r.jsx)("th",{className:"px-6 py-4 font-medium",children:"Specialty"}),(0,r.jsx)("th",{className:"px-6 py-4 font-medium",children:"Subscription"}),(0,r.jsx)("th",{className:"px-6 py-4 font-medium",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-slate-100",children:s?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-10 text-gray-400",children:"Loading doctors..."})}):0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-10 text-gray-400",children:"No doctors found matching filters."})}):e.map(e=>{var t,s,a,l,c,i;return(0,r.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsx)("div",{className:"font-semibold text-slate-900",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-slate-500 capitalize",children:(null==(t=e.doctorInfo)?void 0:t.qualification)||"No Degree Listed"})]}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-slate-600 mb-1",children:[(0,r.jsx)(d.A,{className:"mr-2 h-3 w-3"})," ",e.email]}),(0,r.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,r.jsx)(x.A,{className:"mr-2 h-3 w-3"})," ",e.phone||"N/A"]})]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2.5 py-0.5 text-xs font-medium text-blue-700",children:(null==(s=e.doctorInfo)?void 0:s.specialization)||"General"})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"text-slate-700 font-medium capitalize",children:[(null==(a=e.subscription)?void 0:a.plan)||"Free"," Plan"]}),(0,r.jsxs)("div",{className:"text-xs ".concat((null==(l=e.subscription)?void 0:l.isActive)?"text-green-600":"text-red-500"),children:["Exp: ",(i=null==(c=e.subscription)?void 0:c.endDate)?new Date(i).toLocaleDateString():"N/A"]})]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("span",{className:"inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ".concat(e.isActive?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:[(0,r.jsx)("span",{className:"mr-1.5 h-1.5 w-1.5 rounded-full ".concat(e.isActive?"bg-green-600":"bg-red-600")}),e.isActive?"Active":"Banned"]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsx)("button",{className:"text-slate-400 hover:text-blue-600 p-2 rounded-full hover:bg-slate-100",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})})]},e._id)})})]})})})]})}},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7621:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let r=s(5125).A.create({baseURL:"http://localhost:50001/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token")||sessionStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{if(e.response)switch(e.response.status){case 401:localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login";break;case 403:console.error("Access denied:",e.response.data);break;case 404:console.error("Resource not found");break;case 500:console.error("Server error:",e.response.data);break;default:console.error("API Error:",e.response.data)}else e.request?console.error("Network error - no response received"):console.error("Error:",e.message);return Promise.reject(e)});let a=r},9141:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9758:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(7621);let a={getDoctors:async e=>(await r.A.get("/admin/doctors",{params:e})).data,createDoctor:async e=>(await r.A.post("/admin/doctors",e)).data,manageSubscription:async e=>(await r.A.put("/admin/subscription",e)).data,getStats:async()=>(await r.A.get("/admin/stats")).data}}},e=>{e.O(0,[619,663,125,441,493,358],()=>e(e.s=2509)),_N_E=e.O()}]);