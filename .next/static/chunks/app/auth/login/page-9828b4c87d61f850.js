(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{445:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(5155),r=t(2115),l=t(63),o=t(2544),n=t(6942),i=t(906),c=t(3664),d=t(9708),m=t(5299),x=t(2987),u=t(2663),h=t(7621),p=t(3304),b=t(3611);let g=b.Ikc({email:b.YjP().email("Please enter a valid email address"),password:b.YjP().min(1,"Password is required"),rememberMe:b.zMY().optional()});var f=t(2619),j=t.n(f);function N(){let e=(0,l.useRouter)(),{login:s}=(0,p.n)(),[t,b]=(0,r.useState)(!1),{register:f,handleSubmit:N,formState:{errors:w}}=(0,o.mN)({resolver:(0,n.u)(g),defaultValues:{email:"",password:"",rememberMe:!0}}),v=async t=>{b(!0);try{let{user:a,token:r}=(await h.A.post("/auth/login",{email:t.email,password:t.password})).data.data;switch(s(a,r,t.rememberMe),u.oR.success("Welcome back, ".concat(a.name,"!")),a.role){case"admin":e.push("/admin/dashboard");break;case"doctor":e.push("/doctor/dashboard");break;case"assistant":e.push("/assistant/dashboard");break;default:u.oR.error("Unknown role, contact support.")}}catch(s){var a,r;console.error("Login error:",s);let e=(null==(r=s.response)||null==(a=r.data)?void 0:a.message)||"Invalid credentials. Please try again.";u.oR.error(e)}finally{b(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen bg-slate-50",children:[(0,a.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-slate-900",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80')] bg-cover bg-center mix-blend-overlay opacity-20"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-700 via-blue-800 to-indigo-900 opacity-90"}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(#ffffff33_1px,transparent_1px)] [background-size:32px_32px]"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col justify-between p-16 text-white h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"rounded-xl bg-white/10 p-2.5 backdrop-blur-md border border-white/20 shadow-xl",children:(0,a.jsx)(i.A,{className:"h-8 w-8 text-blue-100"})}),(0,a.jsx)("span",{className:"text-2xl font-bold tracking-tight text-white/95",children:"MedCore"})]}),(0,a.jsxs)("div",{className:"space-y-8 max-w-lg",children:[(0,a.jsxs)("h1",{className:"text-5xl font-extrabold leading-tight tracking-tight text-white drop-shadow-sm",children:["Run your practice",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-blue-200",children:"like clockwork."})]}),(0,a.jsx)("p",{className:"text-xl text-blue-100/90 leading-relaxed font-medium",children:"The all-in-one platform for modern doctor chambers. Streamline appointments, manage queues, and focus on care."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm font-medium text-blue-200/60",children:[(0,a.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"\xa9 2025 MedCore"}),(0,a.jsx)("span",{className:"h-1 w-1 rounded-full bg-blue-400/50"}),(0,a.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Privacy"}),(0,a.jsx)("span",{className:"h-1 w-1 rounded-full bg-blue-400/50"}),(0,a.jsx)("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Terms"})]})]})]}),(0,a.jsx)("div",{className:"flex w-full lg:w-1/2 items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsxs)("div",{className:"text-center lg:text-left",children:[(0,a.jsxs)("div",{className:"inline-flex lg:hidden items-center gap-2 mb-8",children:[(0,a.jsx)("div",{className:"rounded-lg bg-blue-600 p-2 text-white",children:(0,a.jsx)(i.A,{className:"h-6 w-6"})}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight text-slate-900",children:"MedCore"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Welcome Back"}),(0,a.jsx)("p",{className:"mt-2 text-slate-500",children:"Please enter your details to sign in."})]}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:N(v),children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsx)("input",{...f("email"),type:"email",className:"block w-full pl-10 pr-3 py-2.5 border rounded-lg text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow ".concat(w.email?"border-red-300 focus:ring-red-500":"border-slate-200"),placeholder:"doctor@example.com"})]}),w.email&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:w.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),(0,a.jsx)(j(),{href:"/auth/forgot-password",className:"text-xs font-medium text-blue-600 hover:text-blue-500",children:"Forgot Password?"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsx)("input",{...f("password"),type:"password",className:"block w-full pl-10 pr-3 py-2.5 border rounded-lg text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow ".concat(w.password?"border-red-300 focus:ring-red-500":"border-slate-200"),placeholder:"••••••••"})]}),w.password&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:w.password.message})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",type:"checkbox",...f("rememberMe"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-600",children:"Remember me for 30 days"})]}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center py-2.5 px-4 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:t?(0,a.jsx)(m.A,{className:"h-5 w-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Sign in ",(0,a.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]}),(0,a.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mt-6",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-500 mb-3 uppercase tracking-wide text-center",children:"Demo Accounts (For Testing)"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-slate-100",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-700 w-16",children:"Admin"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"admin@gmail.com"}),(0,a.jsx)("p",{className:"text-slate-400",children:"password123"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-slate-100",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-700 w-16",children:"Doctor"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"doctor@gmail.com"}),(0,a.jsx)("p",{className:"text-slate-400",children:"password123"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs p-2 bg-white rounded border border-slate-100",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-700 w-16",children:"Assistant"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"assistant@gmail.com"}),(0,a.jsx)("p",{className:"text-slate-400",children:"password123"})]})]})]})]})]})})]})}},1167:(e,s,t)=>{Promise.resolve().then(t.bind(t,445))},3304:(e,s,t)=>{"use strict";t.d(s,{n:()=>l});var a=t(5959),r=t(9863);let l=(0,a.v)()((0,r.Zr)(e=>({user:null,token:null,isAuthenticated:!1,login:function(s,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];a?(localStorage.setItem("token",t),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",t),localStorage.removeItem("token")),localStorage.setItem("user",JSON.stringify(s)),e({user:s,token:t,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("user"),e({user:null,token:null,isAuthenticated:!1})},updateUser:s=>{localStorage.setItem("user",JSON.stringify(s)),e({user:s})}}),{name:"auth-storage"}))},7621:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let a=t(5125).A.create({baseURL:"http://localhost:50001/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let s=localStorage.getItem("token")||sessionStorage.getItem("token");s&&(e.headers.Authorization="Bearer ".concat(s))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{if(e.response)switch(e.response.status){case 401:localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login";break;case 403:console.error("Access denied:",e.response.data);break;case 404:console.error("Resource not found");break;case 500:console.error("Server error:",e.response.data);break;default:console.error("API Error:",e.response.data)}else e.request?console.error("Network error - no response received"):console.error("Error:",e.message);return Promise.reject(e)});let r=a}},e=>{e.O(0,[619,663,125,342,627,441,493,358],()=>e(e.s=1167)),_N_E=e.O()}]);